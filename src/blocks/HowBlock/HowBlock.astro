---
import "./HowBlock.scss";
import step_1 from "@img/blocks/how/step-1.svg?url";
import step_1_mobile from "@img/blocks/how/step-1_mobile.svg?url";
import step_2 from "@img/blocks/how/step-2.svg?url";
import step_2_glare from "@img/blocks/how/step-2-glare.svg?url";
import step_2_mobile from "@img/blocks/how/step-2_mobile.svg?url";
import step_3 from "@img/blocks/how/step-3.svg?url";
import step_3_mobile from "@img/blocks/how/step-3_mobile.svg?url";
import arrow from "@img/lottie/arrow.json?url";
import lock from "@img/lottie/lock.json?url";
import LottieAnimation from "astro-integration-lottie/Lottie.astro";
---

<section class="HowBlock block" id="how">
	<div class="_container">
		<h2 class="HowBlock__title anim_scroll" data-anim-index="0">
			How It Works
		</h2>
		<div class="HowBlock__steps anim_scroll" data-anim-index="1">
			<div class="HowBlock__step">
				<div class="HowBlock__step-pic">
					<picture>
						<source srcset={step_1_mobile} media="(max-width: 768px)" />
						<img loading="lazy" src={step_1} alt="Depositing collateral illustration" />
					</picture>
					<LottieAnimation
						class="HowBlock__step-lottie _arrow"
						src={arrow}
						autoplay="visible"
						loop
					/>
				</div>
				<div class="HowBlock__step-nav">
					<div class="HowBlock__step-nav-text">
						Step 1
					</div>
					<div class="HowBlock__step-nav-circles">
						<div class="HowBlock__step-nav-circle _active" />
						<div class="HowBlock__step-nav-circle" />
						<div class="HowBlock__step-nav-circle" />
					</div>
				</div>
				<h3 class="HowBlock__step-title">
					Deposit Collateral
				</h3>
				<div class="HowBlock__step-text">
					Deposit ETH as collateral to your lending account
				</div>
			</div>
			<div class="HowBlock__step">
				<div class="HowBlock__step-pic">
					<picture>
						<source srcset={step_2_mobile} media="(max-width: 768px)" />
						<img loading="lazy" src={step_2} alt="Borrowing USDC with NoRekt protection" />
					</picture>
					<div class="anim_glare">
						<img loading="lazy" src={step_2_glare} alt="protection is on" />
					</div>
				</div>
				<div class="HowBlock__step-nav">
					<div class="HowBlock__step-nav-text">
						Step 2
					</div>
					<div class="HowBlock__step-nav-circles">
						<div class="HowBlock__step-nav-circle" />
						<div class="HowBlock__step-nav-circle _active" />
						<div class="HowBlock__step-nav-circle" />
					</div>
				</div>
				<h3 class="HowBlock__step-title">
					Borrow USDC
				</h3>
				<div class="HowBlock__step-text">
					Enter your loan amount, enable NoRekt Protection, and choose a fixed-term duration
				</div>
			</div>
			<div class="HowBlock__step">
				<div class="HowBlock__step-pic">
					<picture>
						<source srcset={step_3_mobile} media="(max-width: 768px)" />
						<img loading="lazy" src={step_3} alt="Repaying illustration" />
					</picture>
					<LottieAnimation
						class="HowBlock__step-lottie _lock"
						src={lock}
						autoplay="visible"
						loop
					/>
				</div>
				<div class="HowBlock__step-nav">
					<div class="HowBlock__step-nav-text">
						Step 3
					</div>
					<div class="HowBlock__step-nav-circles">
						<div class="HowBlock__step-nav-circle" />
						<div class="HowBlock__step-nav-circle" />
						<div class="HowBlock__step-nav-circle _active" />
					</div>
				</div>
				<h3 class="HowBlock__step-title">
					Repay & Withdraw
				</h3>
				<div class="HowBlock__step-text">
					Repay your loan to withdraw your collateral
				</div>
			</div>
		</div>
	</div>
</section>

<script>
	import "./HowBlock.js";
</script>